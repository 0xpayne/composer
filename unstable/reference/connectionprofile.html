<!doctype html>
<html lang="en">
  
  
  

<head>
  <meta charset="utf-8">
  
    <title>Hyperledger Composer - Connection Profile | Hyperledger Composer</title>
  
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/x-icon" href="/composer/unstable/favicon.ico">
  <meta name="google-site-verification" content="fBQRJ6h7MV7_TJ7grbgq4P-d-07NRfDWPe4pqEEoH5w">
  <link href="//fonts.googleapis.com/css?family=Roboto+Slab:400,700%7CRoboto:400,700,700italic,400italic" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
  <script src="/composer/unstable/assets/js/clipboard.min.js"></script>

  
    <!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-91314349-2', 'auto');
ga('require', 'outboundLinkTracker');
ga('require', 'eventTracker');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script async src="/composer/unstable/assets/js/autotrack.js"></script>
<!-- End Google Analytics -->

  

  
    <link href="/composer/unstable/assets/css/normalize.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/main.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/footer.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/prettify.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/composer-style.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/new-style.min.css" rel="stylesheet">
  
</head>


<body class="">

  
  <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/composer/unstable/index.html"><b>Hyperledger</b> Composer</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- <li>
                    <a href="services.html">Composer</a>
                </li> -->
                <!-- <li>
                    <a href="https://composer-playground.mybluemix.net/">Playground</a>
                </li> -->
                <li>
                    <a href="../tutorials/tutorials.html">Tutorials</a>
                </li>
                <li>
                    <a href="../introduction/introduction.html">Docs</a>
                </li>
                <li>
                    <a href="../support/index.html">Community</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container
   -->
</nav>

  

  <div class="SiteWrapper">
    
      <div class="content">
    <article class="container">
      <div class="row">
        <!-- If there's a sidebar, divide into 2 columns -->
        
        <div class="col-md-3">
          <nav class="context-nav" id="myScrollspy">
            
            
              <p><strong><a href="../introduction/introduction.html">Introduction</a></strong>
<strong><a href="../installing/installing-index.html">Installing</a></strong>
<strong><a href="../tutorials/tutorials.html">Tutorials</a></strong>
<strong><a href="../business-network/business-network-index.html">Developing Business Networks</a></strong>
<strong><a href="../applications/applications-index.html">Developing Applications</a></strong>
<strong><a href="../integrating/integrating-index.html">Integrating Existing Systems</a></strong>
<strong><a href="../managing/managingindex.html">Managing and Operating</a></strong>
<strong><a href="../problems/diagnostics.html">Diagnosing Problems</a></strong>
<strong><a href="../reference/MeetTheModules.html">Reference</a></strong>
<a href="../reference/MeetTheModules.html">npm Modules</a>
<a href="../reference/cto_language.html">Modeling Language</a>
<a href="../reference/acl_language.html">Access Control Language</a>
<a href="../reference/connectionprofile.html">Connection Profile</a>
<a href="../reference/js_scripts.html">Transaction Processor Functions</a>
<a href="../reference/commands.html">Command Line Interface</a>
<a href="../reference/composer.participant.add.html">CLI Add Participant</a>
<a href="../reference/composer.identity.issue.html">CLI Issue Identity </a>
<a href="../reference/composer.identity.revoke.html">CLI Revoke Identity</a>
<a href="../reference/composer.identity.import.html">CLI Import Identity</a>
<a href="../jsdoc/index.html">API Documentation</a>
<a href="../reference/glossary.html">Glossary</a>
<strong><a href="../support/index.html">Support</a></strong></p>

            
          </nav>
        </div>
        <div class="col-md-9">
          <section class="content-chunk">
            
              <h1 id="connection-profiles">Connection Profiles</h1>

<hr>

<p>A Connection Profile is used by Hyperledger Composer to connect to a runtime.</p>

<h2 id="creating-a-connection-profile">Creating a Connection Profile</h2>

<ol>
<li><p>Navigate to the Connection Profile store:</p>
<div class="highlight"><pre><code class="language-" data-lang="">cd $HOME/.composer-connection-profiles
</code></pre></div></li>
<li><p>Create a new profile folder.</p>
<div class="highlight"><pre><code class="language-" data-lang="">mkdir ./MyProfile
</code></pre></div></li>
<li><p>Navigate into the new profile folder.</p>
<div class="highlight"><pre><code class="language-" data-lang="">cd MyProfile
</code></pre></div></li>
<li><p>Create a new file called <code>connection.json</code> that contains the following information for either Hyperledger Fabric v0.6 or v1.0. If you are creating a connection profile for Hyperledger Fabric v0.6, use the following format:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;hlf|web&gt;</span><span class="p">,</span><span class="w">
    </span><span class="nt">"keyValStore"</span><span class="p">:</span><span class="s2">"/home/&lt;your-username&gt;/.composer-credentials"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"membershipServicesURL"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;your-membership-services-url&gt;</span><span class="p">,</span><span class="w">
    </span><span class="nt">"peerURL"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;your-peer-url&gt;</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eventHubURL"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;your-event-hub-url&gt;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If you are creating a connection profile for Hyperledger Fabric v1.0, use the following format:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hlfv1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"orderers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpcs://"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpcs://"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"ca"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url:"</span><span class="w"> </span><span class="nt">"https://"</span><span class="err">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"trustedRoots"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"verify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"peers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"requestURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpcs://"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"eventURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpcs://"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"requestURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpcs://"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"eventURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpcs://"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"keyValStore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/YOUR_HOME_DIR/.hfc-key-store"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mychannel"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mspID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org1MSP"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
    </span><span class="nt">"globalcert"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxSendSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"maxRecvSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If you are connecting to Hyperledger Fabric v1.0 and are not using TLS or if you don&#39;t need the trustedRoots and verify options of the Certificate Authority definition you can use the following simplified connection profile:</p>

<p><em>Please note: The simplified version of the connection profile will only work if the relevant certificate authority has no name defined. If the certificate authority has a defined name, it must be specified.</em></p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
</span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hlfv1"</span><span class="p">,</span><span class="w">
</span><span class="nt">"orderers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"grpc://localhost:7050"</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"ca"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:7054"</span><span class="p">,</span><span class="w">
</span><span class="nt">"peers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"requestURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpc://localhost:7051"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"eventURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpc://localhost:7053"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"requestURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpc://localhost:7056"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"eventURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grpc://localhost:7058"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="nt">"keyValStore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/.hfc-key-store"</span><span class="p">,</span><span class="w">
</span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mychannel"</span><span class="p">,</span><span class="w">
</span><span class="nt">"mspID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org1MSP"</span><span class="p">,</span><span class="w">
</span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
</span><span class="nt">"globalcert"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
</span><span class="nt">"maxSendSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
</span><span class="nt">"maxRecvSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></li>
</ol>

<ul>
<li><code>type</code> defines the version of Hyperledger Fabric that you will connect to. To connect to Hyperledger Fabric v1.0-alpha is must be <code>hlfv1</code>.</li>
<li><code>orderers</code> is an array of objects which describe the orderes to communicate with. Within <code>orderers</code>, you must define the <code>url</code> of each orderer. If you are connecting via TLS, all <code>url</code> properties in your connection profile must begin with <code>grpcs://</code> and must also contain the correct TLS certificate in the <code>cert</code> property.</li>
<li><p><code>peers</code> is an array of objects describing the peers to communicate with. Each <code>peer</code> must have a defined <code>requestURL</code> and a defined <code>eventURL</code>. If you are connecting using TLS, each <code>peer</code> must also have the correct TLS certificate in the <code>cert</code> property.</p></li>
<li><p>Each instance of the <code>cert</code> property should contain the correct TLS certificate string in PEM format. Multiple certificates can be placed in each <code>cert</code> property.  </p>
<div class="highlight"><pre><code class="language-" data-lang="">-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----
</code></pre></div></li>
<li><p><code>mspid</code> is the Membership Service Provider ID of your organization. It is associated with the enrollment id that you will use to interact with the business network.</p></li>
<li><p><code>timeout</code> is an optional property which controls the timeout for each request made to peers and orderers. Please note, some commands may make several sequential requests and the timeout will be applied individually to each request.</p></li>
<li><p><code>maxSendSize</code> is an optional property which defines the size limit of outbound grpc messages being send to orderers and peers. The value is defined in megabytes. If this is not set, grpc sets a default. Setting this property to <code>-1</code> results in no size restriction.</p></li>
<li><p><code>maxRecvSize</code> is an optional property which defines the size limit of inbound grpc messages being received from orderers and peers. The value is defined in megabytes. If this is not set, grpc sets a default. Setting this property to <code>-1</code> results in no size restriction.</p></li>
</ul>

            
          </section>
        </div>
        <!-- Otherwise, have the main content fill all 12 columns... -->
        
      </div>
      <div class="PageNavigation">
    
    
  </div>
    </article>
</div>

    

    
      <div class="footer-bg docs-footer">
<div class="footer-container">
    <div class="footer-left">
      <p>Released under the Apache License v2.0</p>
    </div>
  <div class="footer-right">
    <ul>
      <li><a href="https://github.com/hyperledger/composer">GitHub</a></li>
      <!-- <li><a href="https://github.com/hyperledger/composer/LICENSE.txt">Legal</a></li> -->
      <li><a href="/composer/unstable/jsdoc/index.html">APIs</a></li>
      <li><a href="http://stackoverflow.com/questions/tagged/fabric-composer">Stack Overflow</a></li>
      <li><a href="https://goo.gl/forms/7YPMLP2LTN2hjIRk2">Feedback?</a></li>
    </ul>
  </div>
</div>
</div>

    


  </div>
</body>

<!-- jQuery -->
<script src="/composer/unstable/assets/js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/composer/unstable/assets/js/bootstrap.js"></script>

<script>

  $( document ).ready(function() {

      new Clipboard('.btn', {
    text: function() {

        return document.querySelector("[style='display:none;']").value;
    }
});
  });

</script>

</html>
